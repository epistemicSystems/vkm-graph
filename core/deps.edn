{:paths ["src" "resources"]

 :deps
 {;; Core Clojure
  org.clojure/clojure {:mvn/version "1.11.1"}

  ;; Datomic
  com.datomic/peer {:mvn/version "1.0.7075"}
  ;; For Datomic Cloud, use:
  ;; com.datomic/client-cloud {:mvn/version "1.0.130"}

  ;; HTTP client for API calls
  clj-http/clj-http {:mvn/version "3.12.3"}
  http-kit/http-kit {:mvn/version "2.7.0"}

  ;; HTTP server
  ring/ring-core {:mvn/version "1.10.0"}
  ring/ring-jetty-adapter {:mvn/version "1.10.0"}
  ring/ring-json {:mvn/version "0.5.1"}
  ring-cors/ring-cors {:mvn/version "0.1.13"}
  compojure/compojure {:mvn/version "1.7.0"}
  metosin/ring-http-response {:mvn/version "0.9.3"}

  ;; JSON/EDN handling
  cheshire/cheshire {:mvn/version "5.11.0"}
  org.clojure/data.json {:mvn/version "2.4.0"}

  ;; Configuration
  aero/aero {:mvn/version "1.1.6"}

  ;; Logging
  ch.qos.logback/logback-classic {:mvn/version "1.4.11"}
  org.clojure/tools.logging {:mvn/version "1.2.4"}

  ;; Time handling
  clojure.java-time/clojure.java-time {:mvn/version "1.4.2"}

  ;; Git integration
  clj-jgit/clj-jgit {:mvn/version "1.0.2"}

  ;; Schema validation
  prismatic/schema {:mvn/version "1.4.1"}

  ;; Math and statistics
  org.clojure/math.numeric-tower {:mvn/version "0.0.5"}
  org.apache.commons/commons-math3 {:mvn/version "3.6.1"}

  ;; Graph algorithms (for semantic clustering)
  aysylu/loom {:mvn/version "1.0.2"}

  ;; Async/parallel processing
  org.clojure/core.async {:mvn/version "1.6.681"}

  ;; String manipulation
  clojure.string/clojure.string {:mvn/version "0.1.1"}}

 :aliases
 {;; Run the main pipeline
  :run
  {:main-opts ["-m" "vkm.pipeline"]}

  ;; Run HTTP API server
  :server
  {:main-opts ["-m" "vkm.api.server"]}

  ;; Run tests
  :test
  {:extra-paths ["test"]
   :extra-deps {org.clojure/test.check {:mvn/version "1.1.1"}
                lambdaisland/kaocha {:mvn/version "1.87.1366"}}
   :main-opts ["-m" "kaocha.runner"]}

  ;; REPL with extra tools
  :repl
  {:extra-deps {nrepl/nrepl {:mvn/version "1.0.0"}
                cider/cider-nrepl {:mvn/version "0.30.0"}
                refactor-nrepl/refactor-nrepl {:mvn/version "3.6.0"}}
   :main-opts ["-m" "nrepl.cmdline" "--interactive"]}

  ;; Development tools
  :dev
  {:extra-paths ["dev"]
   :extra-deps {org.clojure/tools.namespace {:mvn/version "1.4.4"}
                criterium/criterium {:mvn/version "0.4.6"}}}

  ;; Build uberjar
  :uberjar
  {:replace-deps {com.github.seancorfield/depstar {:mvn/version "2.1.303"}}
   :exec-fn hf.depstar/uberjar
   :exec-args {:aot true
               :jar "target/vkm-graph.jar"
               :main-class vkm.pipeline}}

  ;; Database migrations
  :migrate
  {:main-opts ["-m" "vkm.db.migrate"]}

  ;; Analyze code
  :eastwood
  {:extra-deps {jonase/eastwood {:mvn/version "1.4.0"}}
   :main-opts ["-m" "eastwood.lint" "{:source-paths [\"src\"]}"]}}}
